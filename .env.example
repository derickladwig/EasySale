# EasySale - Environment Configuration Template
# Copy this file to .env and fill in your actual values
# 
# IMPORTANT: This is a WHITE-LABEL system. Configure for YOUR business.
# Example shown is for EasySale (reference implementation).

# ============================================================================
# Multi-Tenant Configuration
# ============================================================================
# REQUIRED: Unique tenant identifier for this deployment
# This should match your configuration file name in configs/private/ or configs/examples/
# 
# IMPORTANT FOR FRESH INSTALLS:
# - Set this BEFORE running the application for the first time
# - The database migrations will use this value for all initial data
# - Default value is 'default' if not set (loads configs/default.json)
# - For custom configurations, create a file in configs/private/{tenant_id}.json
# 
# Examples: default, retail-store, restaurant, service-business
TENANT_ID=default

# Path to tenant configuration file (optional - system will auto-detect based on TENANT_ID)
# Example: ./configs/private/my-store.json
# CONFIG_PATH=./configs/private/my-store.json

# ============================================================================
# API Configuration
# ============================================================================
API_HOST=localhost
API_PORT=8923
API_BASE_URL=http://localhost:8923

# ============================================================================
# Database Configuration
# ============================================================================
# Path to local SQLite database
DATABASE_PATH=./data/pos.db

# Database connection pool settings
DB_MAX_CONNECTIONS=10
DB_TIMEOUT_SECONDS=30

# ============================================================================
# Store Configuration
# ============================================================================
# Unique identifier for this store location
STORE_ID=store-001

# Human-readable store name (can also be set in config file)
STORE_NAME="Main Store"

# Store timezone (e.g., Canada/Edmonton, Canada/Toronto)
STORE_TIMEZONE=Canada/Edmonton

# ============================================================================
# Synchronization Configuration
# ============================================================================
# Enable/disable cross-store synchronization
SYNC_ENABLED=true

# Sync interval in milliseconds (300000 = 5 minutes)
SYNC_INTERVAL_MS=300000

# Comma-separated list of remote stores: store-id:host:port
# Example: store-002:192.168.1.10:3000,store-003:192.168.1.11:3000
REMOTE_STORES=

# Maximum number of sync retries before alerting
SYNC_MAX_RETRIES=3

# Sync retry backoff in milliseconds
SYNC_RETRY_BACKOFF_MS=60000

# ============================================================================
# Backup Configuration
# ============================================================================
# Enable/disable automated backups
BACKUP_ENABLED=true

# Local backup path (network drive recommended)
BACKUP_LOCAL_PATH=/mnt/backup

# Backup schedule (cron format: "0 2 * * *" = 2 AM daily)
BACKUP_SCHEDULE="0 2 * * *"

# Number of local backups to retain
BACKUP_RETENTION_DAYS=30

# Google Drive backup integration
GOOGLE_DRIVE_ENABLED=false
GOOGLE_DRIVE_CREDENTIALS_PATH=./secrets/gdrive-service-account.json
GOOGLE_DRIVE_FOLDER_ID=

# ============================================================================
# Security Configuration
# ============================================================================
# JWT secret for authentication (generate with: openssl rand -base64 32)
JWT_SECRET=CHANGE_ME_GENERATE_RANDOM_SECRET

# JWT token expiration in hours
JWT_EXPIRATION_HOURS=8

# Path to device certificate for store authentication
DEVICE_CERT_PATH=./certs/device.pem

# Password hashing rounds (higher = more secure but slower)
PASSWORD_HASH_ROUNDS=12

# ============================================================================
# Hardware Configuration
# ============================================================================
# Receipt printer settings
RECEIPT_PRINTER_TYPE=ESC_POS
RECEIPT_PRINTER_PORT=USB001
RECEIPT_PRINTER_WIDTH=80

# Label printer settings
LABEL_PRINTER_TYPE=ZEBRA_ZPL
LABEL_PRINTER_IP=192.168.1.100
LABEL_PRINTER_PORT=9100

# Barcode scanner settings
BARCODE_SCANNER_TYPE=USB_HID
BARCODE_SCANNER_PREFIX=
BARCODE_SCANNER_SUFFIX=

# Cash drawer settings
CASH_DRAWER_TYPE=RJ11_VIA_PRINTER
CASH_DRAWER_OPEN_CODE=\x1B\x70\x00

# ============================================================================
# Payment Processing
# ============================================================================
# Payment terminal type (STRIPE_TERMINAL, SQUARE, PAX, INGENICO)
PAYMENT_TERMINAL_TYPE=STRIPE_TERMINAL

# Stripe Terminal configuration
STRIPE_API_KEY=sk_test_...
STRIPE_TERMINAL_LOCATION_ID=

# Alternative payment processor credentials
SQUARE_ACCESS_TOKEN=
SQUARE_LOCATION_ID=

# ============================================================================
# External Integrations
# ============================================================================
# QuickBooks OAuth Redirect URI
# REQUIRED for QuickBooks integration in production
# This must match the callback URL registered in your Intuit Developer app
# Production: https://yourdomain.com/api/integrations/quickbooks/callback
# Development: http://localhost:7945/api/integrations/quickbooks/callback
# WARNING: localhost URLs are rejected in production mode
QUICKBOOKS_REDIRECT_URI=http://localhost:7945/api/integrations/quickbooks/callback

# QuickBooks integration
QUICKBOOKS_ENABLED=false
QUICKBOOKS_CLIENT_ID=
QUICKBOOKS_CLIENT_SECRET=
QUICKBOOKS_REALM_ID=
QUICKBOOKS_REFRESH_TOKEN=

# WooCommerce integration
WOOCOMMERCE_ENABLED=false
WOOCOMMERCE_URL=https://yourstore.com
WOOCOMMERCE_CONSUMER_KEY=
WOOCOMMERCE_CONSUMER_SECRET=

# ============================================================================
# Development & Debugging
# ============================================================================
# Environment mode (development, staging, production)
NODE_ENV=development

# Log level (error, warn, info, debug)
LOG_LEVEL=info

# Enable debug mode (verbose logging, stack traces)
DEBUG_MODE=false

# Enable hot reload for development
HOT_RELOAD=true

# ============================================================================
# Frontend Configuration
# ============================================================================
# Vite dev server port
VITE_PORT=7945

# API URL for frontend (used by Vite)
VITE_API_URL=http://localhost:8923

# Enable React DevTools
VITE_REACT_DEVTOOLS=true

# ============================================================================
# Testing Configuration
# ============================================================================
# Test database path (separate from production)
TEST_DATABASE_PATH=./data/test.db

# Enable test mode features
TEST_MODE=false

# Mock hardware in tests
MOCK_HARDWARE=true

# ============================================================================
# Performance & Monitoring
# ============================================================================
# Enable performance monitoring
PERFORMANCE_MONITORING=false

# Monitoring service endpoint
MONITORING_ENDPOINT=

# Error tracking service (e.g., Sentry)
ERROR_TRACKING_DSN=

# ============================================================================
# Feature Flags
# ============================================================================
# Enable experimental features
FEATURE_LOYALTY_PROGRAM=true
FEATURE_SERVICE_ORDERS=true
FEATURE_ECOMMERCE_SYNC=false

# ============================================================================
# Localization
# ============================================================================
# Default language (en, fr, es)
DEFAULT_LANGUAGE=en

# Default currency (CAD, USD)
DEFAULT_CURRENCY=CAD

# Tax configuration
TAX_ENABLED=true
TAX_RATE=0.05
TAX_NAME=GST

# ============================================================================
# Notes
# ============================================================================
# - Never commit the actual .env file to version control
# - Generate strong random values for JWT_SECRET and other secrets
# - Update STORE_ID to be unique for each store location
# - Configure REMOTE_STORES with actual IP addresses of other stores
# - Set up proper backup paths before enabling BACKUP_ENABLED
# - Test hardware configuration before going live
# - Review security settings for production deployment
